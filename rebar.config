%% vim: ts=4 sw=4 et ft=erlang
{sub_dirs, [ "rel" ]}.

{require_otp_vsn, "R15|R16|17"}.

{cover_enabled, true}.

{cover_print_enabled, true}.

{erl_opts, [debug_info ]}.

{lib_dirs, ["deps","."]}.

{deps, [
    {gproc,         ".*",   {git, "git://github.com/uwiger/gproc",          {branch, master}}},
    {meck,          ".*",   {git, "https://github.com/eproxus/meck.git",    {branch,master}}}
    %{edown,         ".*",   {git, "git://github.com/uwiger/edown",          {branch, master}}}
]}.

%Testing
{xref_checks, [undefined_function_calls]}.
{eunit_opts, [verbose]}.
{ct_log_dir,"test/logs"}.
{ct_extra_params,"-cover test/coverspec"}.


%Cleanup
{clean_files, [".eunit/*",".*~","*~","*/*~","ebin/*.beam","ebin/*.app"]}.

%Port building
{port_env,  [{"CC",  "g++"},
             {"CXX", "g++"},
             {"CXXFLAGS", "$CXXFLAGS -std=c++11 -O3 -I include/ -I c_src/eixx/include"}
            ]}.
{port_specs,[{"c_src/le_eixx", ["c_src/le_eixx.cpp"]}]}.

%Docs
{edoc_opts, [{overview,     "src/overview.edoc"},
                   {title,        "Liberl - Erlang utility library"},
                   %{includes,     ["include"]},
                   %{def,          {vsn, git}},
                   {stylesheet_file, "src/edoc.css"},
                   {app_default,  "http://www.erlang.org/doc/man"}]}.

%%{edoc_opts, [{doclet, edown_doclet},
%%              {source_path, ["src", "test"]},
%%              {stylesheet, ""},
%%              {image, ""},
%%            {app_default,"http://www.erl  ang.org/doc/man"}]}.
                                            
                                            
